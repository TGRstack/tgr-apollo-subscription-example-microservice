import * as math from 'mathjs'

type IProps = Array<{accelerometer: {x: number, y: number, z: number} | null, vibration?: number}>

export default function createAccelerometerScalar(arr: IProps) {
  return arr.map((dp, i) => {
    if (dp.accelerometer) {
      const update = {...dp}
      // FIXME: if i > i.length - 11
      const window = arr.slice(i, i + 10)
      // console.log({window})
      const xWindow = window
        .map(d => d.accelerometer ? d.accelerometer.x : 0)
      const yWindow = window
        .map(d => d.accelerometer ? d.accelerometer.y : 0)
      const zWindow = window
        .map(d => d.accelerometer ? d.accelerometer.z : 0)

      const xWindowVariance = math.var(xWindow)
      const yWindowVariance = math.var(yWindow)
      const zWindowVariance = math.var(zWindow)

      update.vibration = Math.pow(
        Math.pow(xWindowVariance, 2) +
        Math.pow(yWindowVariance, 2) +
        Math.pow(zWindowVariance, 2)
      , 0.5)

      // console.log(update)
      return update
      // console.log(update.vibration, {
      //   ...dp.accelerometer,
      //   xMean,
      //   yMean,
      //   zMean,
      //   xDiffSquare,
      //   yDiffSquare,
      //   zDiffSquare,
      // })
    }
  })
}

// const hubDataResponse = [
//   {
//     accelerometer: null
//   },
//   {
//     accelerometer: {
//       x: -0.026855469,
//       y: -0.13769531,
//       z: 1.0043945
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.028320312,
//       y: -0.14160156,
//       z: 1.0009766
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.023925781,
//       y: -0.14404297,
//       z: 0.9970703
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.036132812,
//       y: -0.14208984,
//       z: 1.0063477
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.026855469,
//       y: -0.13916016,
//       z: 0.9926758
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.0390625,
//       y: -0.15039062,
//       z: 0.9970703
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.02734375,
//       y: -0.14013672,
//       z: 1.0048828
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.032226562,
//       y: -0.14404297,
//       z: 1.0112305
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.023925781,
//       y: -0.14355469,
//       z: 0.9863281
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.02734375,
//       y: -0.14404297,
//       z: 1.0029297
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.016113281,
//       y: -0.1430664,
//       z: 0.9951172
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.017578125,
//       y: -0.14355469,
//       z: 1.0068359
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.0234375,
//       y: -0.13671875,
//       z: 0.99609375
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.024902344,
//       y: -0.140625,
//       z: 1.0087891
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.036621094,
//       y: -0.14550781,
//       z: 0.9995117
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.03466797,
//       y: -0.14648438,
//       z: 0.9838867
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.037109375,
//       y: -0.15332031,
//       z: 0.99853516
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.041503906,
//       y: -0.14257812,
//       z: 1.0078125
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.03515625,
//       y: -0.15429688,
//       z: 1.0200195
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.028320312,
//       y: -0.14794922,
//       z: 0.99658203
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.03857422,
//       y: -0.1484375,
//       z: 1.0029297
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.015625,
//       y: -0.14550781,
//       z: 0.9926758
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.023925781,
//       y: -0.14355469,
//       z: 1.0146484
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.03515625,
//       y: -0.15332031,
//       z: 0.99658203
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.040039062,
//       y: -0.14697266,
//       z: 1.0131836
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.041503906,
//       y: -0.14453125,
//       z: 1
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.027832031,
//       y: -0.15185547,
//       z: 0.9995117
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.044433594,
//       y: -0.14208984,
//       z: 1.0043945
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.03125,
//       y: -0.14013672,
//       z: 0.99609375
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.027832031,
//       y: -0.15136719,
//       z: 0.99658203
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.041503906,
//       y: -0.1430664,
//       z: 0.9926758
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.033691406,
//       y: -0.15576172,
//       z: 0.9980469
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.022949219,
//       y: -0.140625,
//       z: 1.0019531
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.033691406,
//       y: -0.13476562,
//       z: 1.0102539
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.026367188,
//       y: -0.13183594,
//       z: 0.9926758
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.0078125,
//       y: -0.14892578,
//       z: 1.0083008
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.03173828,
//       y: -0.16015625,
//       z: 1.0019531
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.028808594,
//       y: -0.13476562,
//       z: 0.9902344
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.029785156,
//       y: -0.13964844,
//       z: 1.0029297
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.024414062,
//       y: -0.1508789,
//       z: 1.0009766
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.030761719,
//       y: -0.13378906,
//       z: 0.98828125
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.024902344,
//       y: -0.13916016,
//       z: 0.99560547
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.029785156,
//       y: -0.14990234,
//       z: 1.0107422
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.040527344,
//       y: -0.1430664,
//       z: 1.0078125
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.029296875,
//       y: -0.14257812,
//       z: 1.0014648
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.037597656,
//       y: -0.14794922,
//       z: 1.0058594
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.03466797,
//       y: -0.14013672,
//       z: 1.012207
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.027832031,
//       y: -0.15283203,
//       z: 1.0083008
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.026855469,
//       y: -0.1381836,
//       z: 1.0004883
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.14013672,
//       y: -0.080566406,
//       z: 1.2182617
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.24707031,
//       y: -0.10498047,
//       z: 0.9038086
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.15722656,
//       y: 0.115722656,
//       z: 0.95458984
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.18066406,
//       y: 0.49023438,
//       z: 1.1660156
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.17529297,
//       y: -0.0087890625,
//       z: 0.72802734
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.022949219,
//       y: 0.061523438,
//       z: 1.0585938
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.037597656,
//       y: 0.05810547,
//       z: 1.0097656
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.15771484,
//       y: -0.111328125,
//       z: 1.1948242
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.10986328,
//       y: 0.07861328,
//       z: 0.9633789
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.24951172,
//       y: -0.048828125,
//       z: 1.1142578
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.08154297,
//       y: -0.0078125,
//       z: 1.0595703
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.2421875,
//       y: -0.09814453,
//       z: 0.93310547
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.19970703,
//       y: -0.013671875,
//       z: 1.1708984
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.028808594,
//       y: 0.030761719,
//       z: 1.0488281
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.12060547,
//       y: -0.08642578,
//       z: 1.2910156
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.0034179688,
//       y: 0.51904297,
//       z: 1.1113281
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.15771484,
//       y: 0.21777344,
//       z: 0.90625
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.0625,
//       y: -0.12792969,
//       z: 0.9555664
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.103515625,
//       y: 0.39404297,
//       z: 0.96240234
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.3125,
//       y: 0.57373047,
//       z: 0.61865234
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.0234375,
//       y: 0.5864258,
//       z: 0.9550781
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.07324219,
//       y: 0.46728516,
//       z: 0.92871094
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.18798828,
//       y: 0.4819336,
//       z: 0.7788086
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.20117188,
//       y: 0.60546875,
//       z: 0.79052734
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.107421875,
//       y: 0.62646484,
//       z: 0.7265625
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.15527344,
//       y: 0.6381836,
//       z: 0.73339844
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.095703125,
//       y: 0.67822266,
//       z: 0.73046875
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.09277344,
//       y: 0.6958008,
//       z: 0.72021484
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.07763672,
//       y: 0.5444336,
//       z: 0.79589844
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.017578125,
//       y: 0.5878906,
//       z: 0.81640625
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.06640625,
//       y: 0.40039062,
//       z: 0.7949219
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.083984375,
//       y: 0.4194336,
//       z: 0.73779297
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.11376953,
//       y: 0.3515625,
//       z: 1.1757812
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.09082031,
//       y: 0.29785156,
//       z: 0.80029297
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.08300781,
//       y: 0.13378906,
//       z: 1.0595703
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.022460938,
//       y: 0.4375,
//       z: 1.0512695
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.021484375,
//       y: 0.13623047,
//       z: 1.0205078
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.06738281,
//       y: 0.28466797,
//       z: 0.93652344
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.14013672,
//       y: -0.052246094,
//       z: 1.0253906
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.072265625,
//       y: 0.1586914,
//       z: 0.98779297
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.052734375,
//       y: 0.12695312,
//       z: 0.8911133
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.08886719,
//       y: 0.11621094,
//       z: 1.090332
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.020019531,
//       y: 0.06347656,
//       z: 0.9511719
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.05810547,
//       y: -0.110839844,
//       z: 0.92626953
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.23291016,
//       y: 0.015625,
//       z: 0.9038086
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.08544922,
//       y: -0.016113281,
//       z: 1.3491211
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.5776367,
//       y: -0.07861328,
//       z: -1.1220703
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.9555664,
//       y: -0.20214844,
//       z: 0.05859375
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.7133789,
//       y: -0.42236328,
//       z: 0.8144531
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.92578125,
//       y: -0.15234375,
//       z: 0.38427734
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.9848633,
//       y: -0.17773438,
//       z: 0.328125
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8041992,
//       y: 0.4892578,
//       z: 0.11279297
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.7475586,
//       y: 0.44970703,
//       z: -0.26367188
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.9345703,
//       y: 0.52490234,
//       z: -0.28271484
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8828125,
//       y: 0.48046875,
//       z: -0.14794922
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8652344,
//       y: 0.47705078,
//       z: -0.18652344
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.9399414,
//       y: 0.48486328,
//       z: -0.040527344
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8857422,
//       y: 0.4267578,
//       z: -0.17773438
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8901367,
//       y: 0.42773438,
//       z: -0.18310547
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.89208984,
//       y: 0.4272461,
//       z: -0.18603516
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.89453125,
//       y: 0.42285156,
//       z: -0.18457031
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8881836,
//       y: 0.4482422,
//       z: -0.18798828
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8833008,
//       y: 0.44873047,
//       z: -0.1977539
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.88623047,
//       y: 0.42578125,
//       z: -0.21142578
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8803711,
//       y: 0.44189453,
//       z: -0.19335938
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8857422,
//       y: 0.42578125,
//       z: -0.19238281
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8901367,
//       y: 0.42626953,
//       z: -0.203125
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.88916016,
//       y: 0.42236328,
//       z: -0.19482422
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8979492,
//       y: 0.41552734,
//       z: -0.2055664
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.88720703,
//       y: 0.40527344,
//       z: -0.21044922
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.026855469,
//       y: -0.14746094,
//       z: 1.0024414
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.026855469,
//       y: -0.13769531,
//       z: 1.0043945
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.028320312,
//       y: -0.14160156,
//       z: 1.0009766
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.023925781,
//       y: -0.14404297,
//       z: 0.9970703
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.036132812,
//       y: -0.14208984,
//       z: 1.0063477
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.026855469,
//       y: -0.13916016,
//       z: 0.9926758
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.0390625,
//       y: -0.15039062,
//       z: 0.9970703
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.02734375,
//       y: -0.14013672,
//       z: 1.0048828
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.032226562,
//       y: -0.14404297,
//       z: 1.0112305
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.023925781,
//       y: -0.14355469,
//       z: 0.9863281
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.02734375,
//       y: -0.14404297,
//       z: 1.0029297
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.016113281,
//       y: -0.1430664,
//       z: 0.9951172
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.017578125,
//       y: -0.14355469,
//       z: 1.0068359
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.0234375,
//       y: -0.13671875,
//       z: 0.99609375
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.024902344,
//       y: -0.140625,
//       z: 1.0087891
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.036621094,
//       y: -0.14550781,
//       z: 0.9995117
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.03466797,
//       y: -0.14648438,
//       z: 0.9838867
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.037109375,
//       y: -0.15332031,
//       z: 0.99853516
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.041503906,
//       y: -0.14257812,
//       z: 1.0078125
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.03515625,
//       y: -0.15429688,
//       z: 1.0200195
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.028320312,
//       y: -0.14794922,
//       z: 0.99658203
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.03857422,
//       y: -0.1484375,
//       z: 1.0029297
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.015625,
//       y: -0.14550781,
//       z: 0.9926758
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.023925781,
//       y: -0.14355469,
//       z: 1.0146484
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.03515625,
//       y: -0.15332031,
//       z: 0.99658203
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.040039062,
//       y: -0.14697266,
//       z: 1.0131836
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.041503906,
//       y: -0.14453125,
//       z: 1
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.027832031,
//       y: -0.15185547,
//       z: 0.9995117
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.044433594,
//       y: -0.14208984,
//       z: 1.0043945
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.03125,
//       y: -0.14013672,
//       z: 0.99609375
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.027832031,
//       y: -0.15136719,
//       z: 0.99658203
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.041503906,
//       y: -0.1430664,
//       z: 0.9926758
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.033691406,
//       y: -0.15576172,
//       z: 0.9980469
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.022949219,
//       y: -0.140625,
//       z: 1.0019531
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.033691406,
//       y: -0.13476562,
//       z: 1.0102539
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.026367188,
//       y: -0.13183594,
//       z: 0.9926758
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.0078125,
//       y: -0.14892578,
//       z: 1.0083008
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.03173828,
//       y: -0.16015625,
//       z: 1.0019531
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.028808594,
//       y: -0.13476562,
//       z: 0.9902344
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.029785156,
//       y: -0.13964844,
//       z: 1.0029297
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.024414062,
//       y: -0.1508789,
//       z: 1.0009766
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.030761719,
//       y: -0.13378906,
//       z: 0.98828125
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.024902344,
//       y: -0.13916016,
//       z: 0.99560547
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.029785156,
//       y: -0.14990234,
//       z: 1.0107422
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.040527344,
//       y: -0.1430664,
//       z: 1.0078125
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.029296875,
//       y: -0.14257812,
//       z: 1.0014648
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.037597656,
//       y: -0.14794922,
//       z: 1.0058594
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.03466797,
//       y: -0.14013672,
//       z: 1.012207
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.027832031,
//       y: -0.15283203,
//       z: 1.0083008
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.026855469,
//       y: -0.1381836,
//       z: 1.0004883
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.14013672,
//       y: -0.080566406,
//       z: 1.2182617
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.24707031,
//       y: -0.10498047,
//       z: 0.9038086
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.15722656,
//       y: 0.115722656,
//       z: 0.95458984
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.18066406,
//       y: 0.49023438,
//       z: 1.1660156
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.17529297,
//       y: -0.0087890625,
//       z: 0.72802734
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.022949219,
//       y: 0.061523438,
//       z: 1.0585938
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.037597656,
//       y: 0.05810547,
//       z: 1.0097656
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.15771484,
//       y: -0.111328125,
//       z: 1.1948242
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.10986328,
//       y: 0.07861328,
//       z: 0.9633789
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.24951172,
//       y: -0.048828125,
//       z: 1.1142578
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.08154297,
//       y: -0.0078125,
//       z: 1.0595703
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.2421875,
//       y: -0.09814453,
//       z: 0.93310547
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.19970703,
//       y: -0.013671875,
//       z: 1.1708984
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.028808594,
//       y: 0.030761719,
//       z: 1.0488281
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.12060547,
//       y: -0.08642578,
//       z: 1.2910156
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.0034179688,
//       y: 0.51904297,
//       z: 1.1113281
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.15771484,
//       y: 0.21777344,
//       z: 0.90625
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.0625,
//       y: -0.12792969,
//       z: 0.9555664
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.103515625,
//       y: 0.39404297,
//       z: 0.96240234
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.3125,
//       y: 0.57373047,
//       z: 0.61865234
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.0234375,
//       y: 0.5864258,
//       z: 0.9550781
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.07324219,
//       y: 0.46728516,
//       z: 0.92871094
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.18798828,
//       y: 0.4819336,
//       z: 0.7788086
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.20117188,
//       y: 0.60546875,
//       z: 0.79052734
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.107421875,
//       y: 0.62646484,
//       z: 0.7265625
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.15527344,
//       y: 0.6381836,
//       z: 0.73339844
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.095703125,
//       y: 0.67822266,
//       z: 0.73046875
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.09277344,
//       y: 0.6958008,
//       z: 0.72021484
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.07763672,
//       y: 0.5444336,
//       z: 0.79589844
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.017578125,
//       y: 0.5878906,
//       z: 0.81640625
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.06640625,
//       y: 0.40039062,
//       z: 0.7949219
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.083984375,
//       y: 0.4194336,
//       z: 0.73779297
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.11376953,
//       y: 0.3515625,
//       z: 1.1757812
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.09082031,
//       y: 0.29785156,
//       z: 0.80029297
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.08300781,
//       y: 0.13378906,
//       z: 1.0595703
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.022460938,
//       y: 0.4375,
//       z: 1.0512695
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.021484375,
//       y: 0.13623047,
//       z: 1.0205078
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.06738281,
//       y: 0.28466797,
//       z: 0.93652344
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.14013672,
//       y: -0.052246094,
//       z: 1.0253906
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.072265625,
//       y: 0.1586914,
//       z: 0.98779297
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.052734375,
//       y: 0.12695312,
//       z: 0.8911133
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.08886719,
//       y: 0.11621094,
//       z: 1.090332
//     }
//   },
//   {
//     accelerometer: {
//       x: -0.020019531,
//       y: 0.06347656,
//       z: 0.9511719
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.05810547,
//       y: -0.110839844,
//       z: 0.92626953
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.23291016,
//       y: 0.015625,
//       z: 0.9038086
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.08544922,
//       y: -0.016113281,
//       z: 1.3491211
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.5776367,
//       y: -0.07861328,
//       z: -1.1220703
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.9555664,
//       y: -0.20214844,
//       z: 0.05859375
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.7133789,
//       y: -0.42236328,
//       z: 0.8144531
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.92578125,
//       y: -0.15234375,
//       z: 0.38427734
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.9848633,
//       y: -0.17773438,
//       z: 0.328125
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8041992,
//       y: 0.4892578,
//       z: 0.11279297
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.7475586,
//       y: 0.44970703,
//       z: -0.26367188
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.9345703,
//       y: 0.52490234,
//       z: -0.28271484
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8828125,
//       y: 0.48046875,
//       z: -0.14794922
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8652344,
//       y: 0.47705078,
//       z: -0.18652344
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.9399414,
//       y: 0.48486328,
//       z: -0.040527344
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8857422,
//       y: 0.4267578,
//       z: -0.17773438
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8901367,
//       y: 0.42773438,
//       z: -0.18310547
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.89208984,
//       y: 0.4272461,
//       z: -0.18603516
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.89453125,
//       y: 0.42285156,
//       z: -0.18457031
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8881836,
//       y: 0.4482422,
//       z: -0.18798828
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8833008,
//       y: 0.44873047,
//       z: -0.1977539
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.88623047,
//       y: 0.42578125,
//       z: -0.21142578
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8803711,
//       y: 0.44189453,
//       z: -0.19335938
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8857422,
//       y: 0.42578125,
//       z: -0.19238281
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8901367,
//       y: 0.42626953,
//       z: -0.203125
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.88916016,
//       y: 0.42236328,
//       z: -0.19482422
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.8979492,
//       y: 0.41552734,
//       z: -0.2055664
//     }
//   },
//   {
//     accelerometer: {
//       x: 0.88720703,
//       y: 0.40527344,
//       z: -0.21044922
//     }
//   }
// ]
// console.log(createAccelerometerScalar(hubDataResponse))
//
// const windowVariance = {
//   x: variance(windowData.x),
//   y: variance(windowData.y),
//   z: variance(windowData.z),
// }
//
// return
// })
//  ({
//   ...d,
//   vibration: windowVariance
// }))
